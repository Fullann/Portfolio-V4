<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Administration Portfolio</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f5f5f5;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      .form-group {
        margin-bottom: 15px;
      }
      label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #333;
      }
      input,
      textarea,
      select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
      }
      textarea {
        min-height: 100px;
        resize: vertical;
      }
      button {
        background: #007bff;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-right: 10px;
      }
      button:hover {
        background: #0056b3;
      }
      .btn-edit {
        background: #28a745;
      }
      .btn-edit:hover {
        background: #218838;
      }
      .btn-delete {
        background: #dc3545;
      }
      .btn-delete:hover {
        background: #c82333;
      }
      .btn-cancel {
        background: #6c757d;
      }
      .btn-cancel:hover {
        background: #5a6268;
      }
      .project-item,
      .testimonial-item {
        border: 1px solid #ddd;
        padding: 15px;
        margin: 10px 0;
        border-radius: 4px;
        background: #f8f9fa;
      }
      .form-section {
        background: #fff;
        padding: 20px;
        margin: 20px 0;
        border-radius: 8px;
        border: 1px solid #e9ecef;
      }
      h1,
      h2,
      h3 {
        color: #333;
      }
      .button-group {
        margin-top: 15px;
      }
      .danger-zone {
        border: 2px solid #dc3545;
        background: #fff5f5;
      }
      .danger-zone h2 {
        color: #dc3545 !important;
      }
      .admin-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 8px;
        border: 1px solid #e9ecef;
      }

      .logout-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        background: #6c757d;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }

      .logout-btn:hover {
        background: #5a6268;
      }

      .skill-progress-preview {
        background: #e9ecef;
        height: 8px;
        border-radius: 4px;
        overflow: hidden;
        margin: 5px 0;
      }

      .skill-progress-preview-fill {
        background: #007bff;
        height: 100%;
        transition: width 0.3s ease;
      }
      .btn-view {
        background: #17a2b8;
        color: white;
        padding: 5px 10px;
        border: none;
        border-radius: 3px;
        cursor: pointer;
        font-size: 12px;
        transition: background-color 0.3s ease;
      }

      .btn-view:hover {
        background: #138496;
      }

      .cv-info {
        background: #f8f9fa;
        padding: 10px;
        border-radius: 4px;
        border-left: 4px solid #28a745;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Administration Portfolio</h1>

      <div id="login-section">
        <h2>Connexion</h2>
        <form id="login-form">
          <div class="form-group">
            <label>Nom d'utilisateur:</label>
            <input type="text" id="username" required />
          </div>
          <div class="form-group">
            <label>Mot de passe:</label>
            <input type="password" id="password" required />
          </div>
          <button type="submit">Se connecter</button>
        </form>
      </div>

      <div id="admin-panel" style="display: none">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
          "
        >
          <button
            onclick="logout()"
            class="btn-delete"
            style="background: #6c757d"
          >
            <ion-icon name="log-out-outline"></ion-icon>
            Se d√©connecter
          </button>
        </div>
        <div class="form-section danger-zone">
          <h2 style="color: #dc3545">Zone Dangereuse</h2>
          <p style="color: #666">
            Cette action supprimera TOUTES les donn√©es (projets, t√©moignages,
            portfolio, clients, blogs)
          </p>
          <button
            onclick="deleteAllData()"
            class="btn-delete"
            style="background: #dc3545"
          >
            üóëÔ∏è Supprimer TOUTES les donn√©es
          </button>
        </div>       
 <!-- Gestion du Compte Admin -->
        <div class="admin-section" id="account-section">
          <h3>‚öôÔ∏è Gestion du Compte Admin</h3>

          <!-- Informations actuelles -->
          <div
            class="current-account-info"
            style="
              background: #f8f9fa;
              padding: 15px;
              border-radius: 8px;
              margin-bottom: 20px;
              border: 1px solid #dee2e6;
            "
          >
            <h4 style="color: #495057; margin-bottom: 10px">
              Informations actuelles
            </h4>
            <p style="margin: 8px 0; color: #6c757d">
              <strong>Nom d'utilisateur:</strong>
              <span id="current-username">-</span>
            </p>
            <p style="margin: 8px 0; color: #6c757d">
              <strong>Compte cr√©√© le:</strong>
              <span id="account-created">-</span>
            </p>
          </div>

          <!-- Formulaire de modification du nom d'utilisateur -->
          <form id="account-update-form" style="margin-bottom: 30px">
            <h4>Modifier le nom d'utilisateur</h4>
            <div class="form-group">
              <label for="new-username">Nouveau nom d'utilisateur:</label>
              <input
                type="text"
                id="new-username"
                required
                minlength="3"
                style="
                  width: 100%;
                  padding: 8px;
                  margin: 5px 0;
                  border: 1px solid #ddd;
                  border-radius: 4px;
                "
              />
            </div>
            <button
              type="submit"
              class="btn btn-primary"
              style="
                background: #007bff;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
              "
            >
              Mettre √† jour le nom d'utilisateur
            </button>
          </form>

          <!-- Formulaire de changement de mot de passe -->
          <form
            id="password-change-form"
            style="border-top: 2px solid #ffc107; padding-top: 20px"
          >
            <h4>Changer le mot de passe</h4>
            <div class="form-group">
              <label for="current-password">Mot de passe actuel:</label>
              <input
                type="password"
                id="current-password"
                required
                style="
                  width: 100%;
                  padding: 8px;
                  margin: 5px 0;
                  border: 1px solid #ddd;
                  border-radius: 4px;
                "
              />
            </div>
            <div class="form-group">
              <label for="new-password">Nouveau mot de passe:</label>
              <input
                type="password"
                id="new-password"
                required
                minlength="6"
                style="
                  width: 100%;
                  padding: 8px;
                  margin: 5px 0;
                  border: 1px solid #ddd;
                  border-radius: 4px;
                "
              />
            </div>
            <div class="form-group">
              <label for="confirm-password"
                >Confirmer le nouveau mot de passe:</label
              >
              <input
                type="password"
                id="confirm-password"
                required
                minlength="6"
                style="
                  width: 100%;
                  padding: 8px;
                  margin: 5px 0;
                  border: 1px solid #ddd;
                  border-radius: 4px;
                "
              />
            </div>
            <button
              type="submit"
              class="btn-warning"
              style="
                background: #ffc107;
                color: #212529;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
              "
            >
              Changer le mot de passe
            </button>
          </form>
        </div>
        <!-- Section Informations Personnelles -->
        <div class="form-section">
          <h2>Informations Personnelles</h2>
          <form id="personal-info-form">
            <div class="form-group">
              <label>Avatar:</label>
              <input type="file" id="personal-avatar" accept="image/*" />
              <small
                >Laissez vide lors de la modification pour conserver l'avatar
                actuel</small
              >
            </div>
            <div class="form-group">
              <label>CV (PDF):</label>
              <input type="file" id="personal-cv" accept=".pdf" />
              <small
                >Fichier PDF uniquement. Laissez vide pour conserver le CV
                actuel.</small
              >
              <div id="current-cv-info" style="margin-top: 10px; display: none">
                <span style="color: #28a745">‚úì CV actuel disponible</span>
                <button
                  type="button"
                  onclick="viewCurrentCV()"
                  class="btn-view"
                  style="
                    margin-left: 10px;
                    background: #17a2b8;
                    color: white;
                    padding: 5px 10px;
                    border: none;
                    border-radius: 3px;
                  "
                >
                  Voir le CV actuel
                </button>
              </div>
            </div>
            <div class="form-group">
              <label>Nom complet:</label>
              <input type="text" id="personal-name" required />
            </div>
            <div class="form-group">
              <label>Titre professionnel:</label>
              <input type="text" id="personal-title" required />
            </div>
            <div class="form-group">
              <label>Email:</label>
              <input type="email" id="personal-email" required />
            </div>
            <div class="form-group">
              <label>T√©l√©phone:</label>
              <input type="tel" id="personal-phone" required />
            </div>
            <div class="form-group">
              <label>Date de naissance:</label>
              <input type="date" id="personal-birthday" required />
            </div>
            <div class="form-group">
              <label>Localisation:</label>
              <input type="text" id="personal-location" required />
            </div>
            <div class="form-group">
              <label>Texte de pr√©sentation:</label>
              <textarea
                id="personal-about"
                style="min-height: 150px"
                required
                placeholder="S√©parez les paragraphes par des sauts de ligne"
              ></textarea>
              <small>Chaque saut de ligne cr√©era un nouveau paragraphe</small>
            </div>
            <div class="button-group">
              <button type="submit">Mettre √† jour les informations</button>
            </div>
          </form>
        </div>
        
        <!-- Section Liens Sociaux -->
        <div class="form-section">
          <h2>Gestion des Liens Sociaux</h2>
          <form id="social-form">
            <div class="form-group">
              <label>Nom du r√©seau social:</label>
              <input
                type="text"
                id="social-name"
                required
                placeholder="Facebook, Twitter, etc."
              />
            </div>
            <div class="form-group">
              <label>Ic√¥ne (nom Ion-icon):</label>
              <select id="social-icon" required>
                <option value="">S√©lectionner une ic√¥ne</option>
                <option value="logo-facebook">Facebook</option>
                <option value="logo-twitter">Twitter</option>
                <option value="logo-instagram">Instagram</option>
                <option value="logo-linkedin">LinkedIn</option>
                <option value="logo-github">GitHub</option>
                <option value="logo-youtube">YouTube</option>
                <option value="logo-tiktok">TikTok</option>
                <option value="logo-snapchat">Snapchat</option>
                <option value="logo-pinterest">Pinterest</option>
                <option value="logo-discord">Discord</option>
                <option value="logo-whatsapp">WhatsApp</option>
                <option value="logo-telegram">Telegram</option>
                <option value="logo-codepen">CodePen</option>
              </select>
            </div>
            <div class="form-group">
              <label>URL du profil:</label>
              <input
                type="url"
                id="social-url"
                required
                placeholder="https://facebook.com/username"
              />
            </div>
            <div class="button-group">
              <button type="submit" id="social-submit-btn">
                Ajouter Lien Social
              </button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditSocial()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="social-links-list"></div>

        <div class="form-section">
          <h2>Gestion des Projets</h2>
          <form id="project-form">
            <div class="form-group">
              <label>Titre:</label>
              <input type="text" id="project-title" required />
            </div>
            <div class="form-group">
              <label>Cat√©gorie:</label>
              <input type="text" id="project-category" required />
            </div>
            <div class="form-group">
              <label>Description:</label>
              <textarea id="project-description" required></textarea>
            </div>
            <div class="form-group">
              <label>Image:</label>
              <input type="file" id="project-image" accept="image/*" />
            </div>
            <div class="button-group">
              <button type="submit" id="project-submit-btn">
                Ajouter Projet
              </button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditProject()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="projects-list"></div>

        <div class="form-section">
          <h2>Gestion des T√©moignages</h2>
          <form id="testimonial-form">
            <div class="form-group">
              <label>Nom:</label>
              <input type="text" id="testimonial-name" required />
            </div>
            <div class="form-group">
              <label>T√©moignage:</label>
              <textarea id="testimonial-text" required></textarea>
            </div>
            <div class="form-group">
              <label>Avatar:</label>
              <input type="file" id="testimonial-avatar" accept="image/*" />
            </div>
            <div class="button-group">
              <button type="submit" id="testimonial-submit-btn">
                Ajouter T√©moignage
              </button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditTestimonial()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="testimonials-list"></div>
        <div class="form-section">
          <h2>Gestion des Cat√©gories</h2>
          <form id="category-form">
            <div class="form-group">
              <label>Nom de la cat√©gorie (technique):</label>
              <input
                type="text"
                id="category-name"
                required
                placeholder="web development"
              />
              <small
                >Utilis√© pour les filtres (minuscules, espaces autoris√©s)</small
              >
            </div>
            <div class="form-group">
              <label>Nom d'affichage:</label>
              <input
                type="text"
                id="category-display"
                required
                placeholder="Web Development"
              />
              <small>Nom affich√© dans l'interface utilisateur</small>
            </div>
            <div class="button-group">
              <button type="submit" id="category-submit-btn">
                Ajouter Cat√©gorie
              </button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditCategory()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="categories-list"></div>

        <div class="form-section">
          <h2>Gestion du Portfolio</h2>
          <form id="portfolio-form">
            <div class="form-group">
              <label>Titre du projet:</label>
              <input type="text" id="portfolio-title" required />
            </div>
            <div class="form-group">
              <label>Cat√©gorie:</label>
              <select id="portfolio-category" required>
                <option value="">S√©lectionner une cat√©gorie</option>
                <!-- Les options seront charg√©es dynamiquement -->
              </select>
            </div>

            <div class="form-group">
              <label>Description:</label>
              <textarea id="portfolio-description" required></textarea>
            </div>
            <div class="form-group">
              <label>Lien vers le repository GitHub:</label>
              <input
                type="url"
                id="portfolio-repo"
                placeholder="https://github.com/username/project"
              />
            </div>
            <div class="form-group">
              <label>Lien vers le site en ligne:</label>
              <input
                type="url"
                id="portfolio-live"
                placeholder="https://monsite.com"
              />
            </div>
            <div class="form-group">
              <label>Image du projet:</label>
              <input
                type="file"
                id="portfolio-image"
                accept="image/*"
                required
              />
            </div>
            <div class="button-group">
              <button type="submit" id="portfolio-submit-btn">
                Ajouter au Portfolio
              </button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditPortfolio()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="portfolio-list"></div>
        <div class="form-section">
          <h2>Gestion des Clients</h2>
          <form id="client-form">
            <div class="form-group">
              <label>Nom du client:</label>
              <input type="text" id="client-name" required />
            </div>
            <div class="form-group">
              <label>Site web (optionnel):</label>
              <input
                type="url"
                id="client-website"
                placeholder="https://client.com"
              />
            </div>
            <div class="form-group">
              <label>Description (optionnel):</label>
              <textarea
                id="client-description"
                placeholder="Description du client"
              ></textarea>
            </div>
            <div class="form-group">
              <label>Logo du client:</label>
              <input type="file" id="client-logo" accept="image/*" />
              <small
                >Laissez vide lors de la modification pour conserver le logo
                actuel</small
              >
            </div>
            <div class="button-group">
              <button type="submit" id="client-submit-btn">
                Ajouter Client
              </button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditClient()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="clients-list"></div>

        <!-- Section Gestion des Blogs -->
        <div class="form-section">
          <h2>Gestion des Blogs</h2>
          <form id="blog-form">
            <div class="form-group">
              <label>Titre du blog:</label>
              <input type="text" id="blog-title" required />
            </div>
            <div class="form-group">
              <label>Cat√©gorie:</label>
              <input
                type="text"
                id="blog-category"
                required
                placeholder="Design, Tech, etc."
              />
            </div>
            <div class="form-group">
              <label>Extrait (r√©sum√© court):</label>
              <textarea
                id="blog-excerpt"
                required
                placeholder="R√©sum√© du blog affich√© sur la page principale"
              ></textarea>
            </div>
            <div class="form-group">
              <label>Contenu (Markdown):</label>
              <textarea
                id="blog-content"
                required
                style="min-height: 200px"
                placeholder="# Titre principal&#10;&#10;Votre contenu en **Markdown**&#10;&#10;## Sous-titre&#10;&#10;- Liste √† puces&#10;- Autre √©l√©ment"
              ></textarea>
              <small
                >Utilisez la syntaxe Markdown : **gras**, *italique*, # Titre,
                ## Sous-titre, - Liste</small
              >
            </div>
            <div class="form-group">
              <label>Auteur:</label>
              <input type="text" id="blog-author" placeholder="Admin" />
            </div>
            <div class="form-group">
              <label>Image du blog:</label>
              <input type="file" id="blog-image" accept="image/*" />
              <small
                >Laissez vide lors de la modification pour conserver l'image
                actuelle</small
              >
            </div>
            <div class="button-group">
              <button type="submit" id="blog-submit-btn">Ajouter Blog</button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditBlog()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="blogs-list"></div>

        <!-- Section Gestion de l'√âducation -->
        <div class="form-section">
          <h2>Gestion de l'√âducation</h2>
          <form id="education-form">
            <div class="form-group">
              <label>Institution/√âcole:</label>
              <input
                type="text"
                id="education-institution"
                required
                placeholder="University school of the arts"
              />
            </div>
            <div class="form-group">
              <label>P√©riode:</label>
              <input
                type="text"
                id="education-period"
                required
                placeholder="2007 ‚Äî 2008"
              />
            </div>
            <div class="form-group">
              <label>Description:</label>
              <textarea
                id="education-description"
                required
                placeholder="Description de la formation"
              ></textarea>
            </div>
            <div class="button-group">
              <button type="submit" id="education-submit-btn">
                Ajouter Formation
              </button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditEducation()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="education-list"></div>

        <!-- Section Gestion de l'Exp√©rience -->
        <div class="form-section">
          <h2>Gestion de l'Exp√©rience</h2>
          <form id="experience-form">
            <div class="form-group">
              <label>Poste/Position:</label>
              <input
                type="text"
                id="experience-position"
                required
                placeholder="Creative director"
              />
            </div>
            <div class="form-group">
              <label>P√©riode:</label>
              <input
                type="text"
                id="experience-period"
                required
                placeholder="2015 ‚Äî Present"
              />
            </div>
            <div class="form-group">
              <label>Description:</label>
              <textarea
                id="experience-description"
                required
                placeholder="Description du poste et responsabilit√©s"
              ></textarea>
            </div>
            <div class="button-group">
              <button type="submit" id="experience-submit-btn">
                Ajouter Exp√©rience
              </button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditExperience()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="experience-list"></div>

        <!-- Section Gestion des Comp√©tences -->
        <div class="form-section">
          <h2>Gestion des Comp√©tences</h2>
          <form id="skill-form">
            <div class="form-group">
              <label>Nom de la comp√©tence:</label>
              <input
                type="text"
                id="skill-name"
                required
                placeholder="Web design, JavaScript, etc."
              />
            </div>
            <div class="form-group">
              <label>Niveau (%):</label>
              <input
                type="number"
                id="skill-percentage"
                required
                min="0"
                max="100"
                placeholder="80"
              />
              <small>Entrez un pourcentage entre 0 et 100</small>
            </div>
            <div class="button-group">
              <button type="submit" id="skill-submit-btn">
                Ajouter Comp√©tence
              </button>
              <button
                type="button"
                class="btn-cancel"
                onclick="cancelEditSkill()"
              >
                Annuler
              </button>
            </div>
          </form>
        </div>

        <div id="skills-list"></div>

        <!-- Statistiques d'optimisation -->
<div class="admin-section" id="optimization-section">
  <h3>üìä Statistiques d'Optimisation</h3>
  
  <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0;">
    <div class="stat-card" style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
      <h4 style="color: #28a745; margin-bottom: 10px;">Images Totales</h4>
      <p id="total-images" style="font-size: 24px; font-weight: bold;">-</p>
    </div>
    
    <div class="stat-card" style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
      <h4 style="color: #17a2b8; margin-bottom: 10px;">Images Optimis√©es</h4>
      <p id="optimized-images" style="font-size: 24px; font-weight: bold;">-</p>
    </div>
    
    <div class="stat-card" style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
      <h4 style="color: #ffc107; margin-bottom: 10px;">Taux d'Optimisation</h4>
      <p id="optimization-rate" style="font-size: 24px; font-weight: bold;">-</p>
    </div>
    
    <div class="stat-card" style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center;">
      <h4 style="color: #6c757d; margin-bottom: 10px;">Espace Utilis√©</h4>
      <p id="disk-usage" style="font-size: 24px; font-weight: bold;">-</p>
    </div>
  </div>
  
  <div class="optimization-info" style="background: #e7f3ff; padding: 15px; border-radius: 8px; margin: 20px 0;">
    <h4>‚ÑπÔ∏è √Ä propos de l'optimisation</h4>
    <ul style="margin: 10px 0; padding-left: 20px;">
      <li>Les images sont automatiquement converties en WebP</li>
      <li>Compression avec 85% de qualit√© pour un bon √©quilibre</li>
      <li>Redimensionnement automatique selon le type d'image</li>
      <li>√âconomie moyenne de 60-80% sur la taille des fichiers</li>
    </ul>
  </div>
  
  <button onclick="loadOptimizationStats()" style="background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;">üîÑ Actualiser les statistiques</button>
</div>

      </div>
    </div>

    <script src="admin.js"></script>
  </body>
</html>
